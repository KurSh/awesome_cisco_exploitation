v="$1"
romrev="$2"
trunk_rev="$3"
copy_name="$4"

cat > banner.sh <<@@E_O_F
#!/bin/sh
#
# banner.sh - Mkbranch version
# July 1993, Michael Beesley
#
# Copyright (c) 1994-1996 by cisco Systems, Inc.
# All rights reserved.
# 
# Shell script to create the Monitor banner.
#
# Called with:
#      \$1	system type
#
# WARNING: This file was automatically generated by the checkout
# script when we created this copy of the Lab Trunk.
#
#  DO NOT EDIT.
#
PATH=/usr/local/bin:/usr/5bin:/bin:/usr/bin:/router/bin
SYSROOT=\`../../scripts/sysroot\`
if [ ! -r \$SYSROOT/rommon/version ]; then echo 100 > \$SYSROOT/rommon/version; fi
v=\`cat \$SYSROOT/rommon/version\`
v=\`expr \$v + 1\`
echo \$v > \$SYSROOT/rommon/version
echo Making version \$v
rm -f banner.c
echo \#include \"mon_defs.h\" >> banner.c
echo \#ifdef str >>banner.c
echo \#undef str >>banner.c
echo \#endif >>banner.c
echo \#define str\(s\) \#s >>banner.c
echo \#ifdef xstr >>banner.c
echo \#undef xstr >>banner.c
echo \#endif >>banner.c
echo \#define xstr\(s\) str\(s\) >>banner.c
echo \#ifdef verno >>banner.c
echo \#undef verno >>banner.c
echo \#endif >>banner.c
echo \#define verno xstr\(ROM_MAJORVERSION\) \".\" xstr\(ROM_MINORVERSION\) >>banner.c
echo char *banner_string = \"\\\\\\\\r\\\\\\\\nSystem Bootstrap, Version \" >>banner.c
echo verno >>banner.c
echo \"\($v\) [$copy_name \$v], INTERIM SOFTWARE\\\\\\\\r\\\\\\\\n\" >> banner.c
echo \"Copyright \(c\) 1994-1995 by cisco Systems, Inc.\\\\\\\\r\\\\\\\\n\"\; >> banner.c
echo char *oem_banner_string = \"\\\\\\\\r\\\\\\\\nSystem Bootstrap, Version \" >>banner.c
echo verno >>banner.c
echo \"\($v\) [$copy_name \$v], INTERIM SOFTWARE\\\\\\\\r\\\\\\\\n\"\; >> banner.c
echo char *compile_info =  >> banner.c
echo \"Compiled \`date +"%a %d-%h-%y %H:%M"\` by $copy_name\\\\\\\\r\\\\\\\\n\"\; >> banner.c
echo "$romrev [$copy_name \$v], INTERIM SOFTWARE, \`date +'%a %d-%h-%y %H:%M'\` by \$USER" >> .compiles
@@E_O_F
chmod +x banner.sh
