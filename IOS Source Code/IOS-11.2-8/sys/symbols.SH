#!/bin/sh
# $Id: symbols.SH,v 3.3 1996/03/04 19:25:57 rchiao Exp $
# $Source: /release/111/cvs/Xsys/symbols.SH,v $
#------------------------------------------------------------------
# symbols.SH is run by {prep,update}_sys_tree to generate symbols.sh
#
# June 1995, Mark D. Baushke
#
# Copyright (c) 1995 by cisco Systems, Inc.
# All rights reserved.
#------------------------------------------------------------------
# $Log: symbols.SH,v $
# Revision 3.3  1996/03/04  19:25:57  rchiao
# CSCdi49917:  makefile changes for ClearCase, part II
# changes to symbols.SH follows same path as cisco.SH.
#
# Revision 3.2  1995/11/17  08:32:49  hampton
# Remove old entries from the RCS header logs.
#
# Revision 3.1  1995/11/09  10:48:38  shaker
# Bump version numbers from 2.x to 3.x.
#
# Revision 2.1  1995/06/07  19:59:09  hampton
# Bump version numbers from 1.x to 2.x.
#
#------------------------------------------------------------------
# $Endlog$
#

#!/bin/sh
v="$1"
trunk_rev="$2"
trunk_rev2="$3"
copy_name="$4"

rm -f symbols.sh
cat > symbols.sh <<@@E_O_F
#!/bin/sh
#
# symbols.sh
#
# Called with:
#	\$1	Version of 'nm' to run for this target processor
#	\$2	Name of '.sun' file from which to get symbol table
#	\$3	Name of output '*.symbols' file to create
#	\$4	CPU type name string
#	\$5	Name of system image that symbols are for
#
# WARNING: This file was automatically generated by the checkout
# script when we created this copy of the Lab Trunk.
#
#  DO NOT EDIT.
#
SYSROOT=\`../scripts/sysroot\`
v=\`cat \$SYSROOT/version\`
v=\`expr \$v\`
echo \`date\` "- \$5 for \$4 Version $trunk_rev2 [$copy_name \$v] Symbol Table, Page 1" > \$3
\$1 -n \$2 | grep -v ' [trg] \$L'  | expand >> \$3
@@E_O_F
chmod +x symbols.sh
